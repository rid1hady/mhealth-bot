version: '2.0'
session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

intents:
  - greet
  - goodbye
  - consult
  - affirm
  - deny
  - mood_happy
  - mood_sad
  - inform
  - stop
  - bot_challenge
  - chitchat

slots:
  name:
    type: text
  interest:
    type: any
  sadness:
    type: any
  sleep:
    type: any
  diet:
    type: any
  energy:
    type: any
  optimism:
    type: any
  concentration:
    type: any
  movement:
    type: any
  suicide_thought:
    type: any
  able_concentrate:
    type: bool
  lost_sleep:
    type: bool
  feel_useful:
    type: bool
  capable_make_decision:
    type: bool
  under_stress:
    type: bool
  overcome_difficulties:
    type: bool
  enjoy_activities:
    type: bool
  face_up_problems:
    type: bool
  feel_unhappy:
    type: bool
  lose_confidence:
    type: bool
  think_as_worthless:
    type: bool
  feel_happy:
    type: bool
  check_affiliation:
    type: bool
    influence_conversation: true

entities:
  - name
  - interest
  - sadness
  - sleep
  - diet
  - energy
  - optimism
  - concentration
  - movement
  - suicide_thought
    # +
  - able_concentrate
  - feel_useful
  - capable_make_decision
  - enjoy_activities
  - face_up_problems
  - feel_happy
    # -
  - lost_sleep     
  - under_stress
  - overcome_difficulties
  - feel_unhappy
  - lose_confidence
  - think_as_worthless
  - check_affiliation

responses:
  utter_iamabot:
    - text: "Aku adalah MantapBot"
  utter_introduction:
    - text: |
        Halo! perkenalkan aku adalah MantapBot.
        Fungsi utamaku adalah untuk memberikan asesmen dini terhadap kesehatan mental secara general.
        
        Aku akan memberikan kepastian bahwa percakapan kita aman.
  utter_ask_name:
    - text: "Nama kamu siapa?"
  utter_confirm_name:
    - text: "Benarkah nama kamu {name}?"
  utter_nice_to_meet_you:
    - text: "Senang berkenalan denganmu {name}."
    - text: "Salam kenal {name}."
    - text: "Wow, {name} nama yang keren."
  utter_how_you_feel:
    - text: "Btw, bagaimana perasaanmu sekarang?"
  utter_glad:
    - text: "Wow! Luar biasa. Aku ikut senang mendengarnya üëè"
  utter_test_permission:
    - text: "Sepertinya ada sesuatu yang menganggu pikiran kamu. Apakah kamu mau melakukan test kecil-kecilan untuk mengecek kondisi mental kamu secara umum?"
  utter_start_general_test:
    - text: |
        Hi! Aku punya beberapa pertanyaan buat {name}.
        Pertanyaan ini akan membantu aku untuk membantu menentukan kondisi kesehatan mental kamu secara umum
        Dan aku berharap info tersebut bisa membantu kamu lebih mengenali kondisi kamu.
        Tolong jawab antara iya dan tidak.
        Dalam dua minggu terakhir...
  utter_ask_able_concentrate:
    - text: "Apa kamu tetap dapat konsentrasi terhadap hal yang kamu perlu kerjakan?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_lost_sleep:
    - text: "Apa kamu jadi kurang tidur karena overthinking?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_feel_useful:
    - text: "Apa kamu merasa memainkan peran yang penting atau berguna untuk orang lain akhir-akhir ini?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_capable_make_decision:
    - text: "Apa kamu merasa telah membuat keputusan yang bagus akhir-akhir ini?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_under_stress:
    - text: "Apa kamu merasa tertekan atau stress?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_overcome_difficulties:
    - text: "Apa kamu merasa tidak bisa mengatasi kesulitan?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_enjoy_activities:
    - text: "Apa kamu menikmati keseharianmu?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_face_up_problems:
    - text: "Apa kamu dapat menghadapi masalah dengan baik?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_feel_unhappy:
    - text: "Apa kamu merasa depresi atau tidak bahagia?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_lose_confidence:
    - text: "Apa kamu merasa tidak pede sama diri sendiri?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_think_as_worthless:
    - text: "Apa kamu merasa tidak berguna?"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_feel_happy:
    - text: "Apa kamu merasa cukup bahagia, dengan mempertimbangkan semua yang kamu miliki atau terjadi saat ini"
      buttons:
        - title: "Tidak"
          payload: '/deny'
        - title: "Iya"
          payload: '/affirm'
  utter_ask_duration:
    - text: "Sudah berapa lama?"
  utter_further_test:
    - text: "Supaya hasilnya lebih detail, apakah kamu mau menjalankan test lanjutan?"
  utter_start_phq_test:
    - text: |
        Baiklah, untuk yang kali ini, ada sekitar 9 pertanyaan.
        Silahkan jawab dengan sesuai. Dalam dua minggu terakhir...
  utter_start_ask_condition:
    - text: |
        Baik, aku akan coba bantu melihat seperti apa kondisi kesehatan kamu.
        
        Silahkan jawab beberapa pertanyaan berikut.
        Dalam 2 minggu terakhir...
  utter_ask_interest:
    - text: "Apakah kamu merasa kurang berminat atau bergairah dalam melakukan sesuatu?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"interest": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"interest": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"interest": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"interest": 3}}'
  utter_ask_sadness:
    - text: "Apakah kamu merasa murung, sedih atau putus asa?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"sadness": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"sadness": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"sadness": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"sadness": 3}}'
  utter_ask_sleep:
    - text: "Apakah kondisi tidurmu tidak normal? seperti sangat sulit tidur atau justru terlalu banyak tidur?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"sleep": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"sleep": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"sleep": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"sleep": 3}}'
  utter_ask_diet:
    - text: "Apakah kondisi nafsu makanmu tidak normal? seperti kurang nafsu makan atau justru terlalu banyak makan?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"diet": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"diet": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"diet": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"diet": 3}}'
  utter_ask_energy:
    - text: "Apa kamu merasa lelah atau kurang bertenaga?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"energy": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"energy": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"energy": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"energy": 3}}'
  utter_ask_optimism:
    - text: "Apa kamu merasa kurang pede atau merasa gagal dengan mengecewakan keluarga?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"optimism": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"optimism": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"optimism": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"optimism": 3}}'
  utter_ask_concentration:
    - text: "Apa kamu merasa sulit berkonsentrasi dalam melalukan hal apapun?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"concentration": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"concentration": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"concentration": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"concentration": 3}}'
  utter_ask_movement:
    - text: "Apa kamu jadi jarang gerak atau makin lambat gerak dan ngomongnya tidak seperti biasa?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"movement": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"movement": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"movement": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"movement": 3}}'
  utter_ask_suicide_thought:
    - text: "Mohon maaf sebelumnya untuk pertanyaan terakhir ini. Sempatkah terpikir untuk mengakhiri hidup? atau bunuh diri?"
      buttons:
      - title: "Tidak pernah"
        payload: '/inform{{"suicide_thought": 0}}'
      - title: "Beberapa hari"
        payload: '/inform{{"suicide_thought": 1}}'
      - title: "Lebih dari seminggu"
        payload: '/inform{{"suicide_thought": 2}}'
      - title: "Hampir setiap hari"
        payload: '/inform{{"suicide_thought": 3}}'
  utter_ask_confirm_stop:
    - text: "Apa kamu yakin ingin mengakhiri test?"
  utter_confirm_stop_fill:
    - text: "Apakah kamu yakin ingin berhenti?"
  utter_ask_suggestion:
    - text: "Terima kasih, boleh aku tanya kenapa ingin berhenti?"
  utter_bad_condition:
    - text: "Sepertinya kondisi mental kamu sedang kurang bagus."
  utter_ask_affiliation:
    - text: "Apakah kamu mahasiswa ITB?"
  utter_itb_counselling_contact:
    - text: "Berikut adalah kontak yang kamu bisa hubungi untuk konseling dengan BK ITB"
  utter_other_counselling:
    - text: "Maaf, untuk tempat lain, aku kurang tahu, tapi kamu bisa periksa kondisimu secara langsung ke psikiater terdekat dari tempatmu dengan Google Maps"
  utter_self_mental_health_practice:
    - text: "Kondisi mentalmu sudah cukup bagus, berikut ada beberapa bahan bacaan dan training yang bisa kamu lakukan untuk meningkatkan atau mempertahankannya!"
  utter_root_for_user:
    - text: "Kamu luar biasa! Terus pertahankan kondisi mental kamu ya!"
  utter_no_worries:
    - text: "Tidak masalah. Semoga harimu menyenangkan!"
  utter_goodbye:
    - text: "Sampai jumpa kembali"

actions:
  - action_handle_test_result
  - action_show_ghq_result
  - action_show_phq_result

forms:
  basic_info_form:
    name:
      - type: from_entity
        intent: inform
        entity: name
      - type: from_text
  ghq_form:
    able_concentrate:
      - type: from_intent
        value: true
        intent: affirm
      - type: from_intent
        value: false
        intent: deny
    feel_useful:
      - type: from_intent
        value: true
        intent: affirm
      - type: from_intent
        value: false
        intent: deny
    capable_make_decision:
      - type: from_intent
        value: true
        intent: affirm
      - type: from_intent
        value: false
        intent: deny
    enjoy_activities:
      - type: from_intent
        value: true
        intent: affirm
      - type: from_intent
        value: false
        intent: deny
    face_up_problems:
      - type: from_intent
        value: true
        intent: affirm
      - type: from_intent
        value: false
        intent: deny
    feel_happy:
      - type: from_intent
        value: true
        intent: affirm
      - type: from_intent
        value: false
        intent: deny
    lost_sleep:
      - type: from_intent
        value: false
        intent: affirm
      - type: from_intent
        value: true
        intent: deny
    under_stress:
      - type: from_intent
        value: false
        intent: affirm
      - type: from_intent
        value: true
        intent: deny
    overcome_difficulties:
      - type: from_intent
        value: false
        intent: affirm
      - type: from_intent
        value: true
        intent: deny
    feel_unhappy:
      - type: from_intent
        value: false
        intent: affirm
      - type: from_intent
        value: true
        intent: deny
    lose_confidence:
      - type: from_intent
        value: false
        intent: affirm
      - type: from_intent
        value: true
        intent: deny
    think_as_worthless:
      - type: from_intent
        value: false
        intent: affirm
      - type: from_intent
        value: true
        intent: deny
  phq_form:
    interest:
      - type: from_entity
        intent: inform
        entity: interest
    sadness:
      - type: from_entity
        intent: inform
        entity: sadness
    sleep:
      - type: from_entity
        intent: inform
        entity: sleep
    diet:
      - type: from_entity
        intent: inform
        entity: diet
    energy:
      - type: from_entity
        intent: inform
        entity: energy
    optimism:
      - type: from_entity
        intent: inform
        entity: optimism
    concentration:
      - type: from_entity
        intent: inform
        entity: concentration
    movement:
      - type: from_entity
        intent: inform
        entity: movement
    suicide_thought:
      - type: from_entity
        intent: inform
        entity: suicide_thought
